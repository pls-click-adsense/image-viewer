<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>画像抽出くん</title>
</head>
<body>
    <input type="text" id="urlInput" placeholder="URLを入れてね">
    <button onclick="getImages()">画像を表示</button>
    <div id="result"></div>

    <script>
        async function getImages() {
            const url = document.getElementById('urlInput').value;
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = ''; // 前の結果をクリア

            try {
                // ここでURLのHTMLを取得
                const response = await fetch(url);
                const text = await response.text();
                
                // 読み込んだテキストをHTMLとして解釈
                const parser = new DOMParser();
                const doc = parser.parseFromString(text, 'text/html');
                const images = doc.querySelectorAll('img');

                // 見つかった画像を画面に並べる
                images.forEach(img => {
                    const newImg = document.createElement('img');
                    newImg.src = img.src;
                    newImg.style.width = '200px'; // 見やすいサイズに
                    resultDiv.appendChild(newImg);
                });
            } catch (e) {
                alert('エラーが出ちゃった。セキュリティ制限で読み込めないサイトかもしれないよ。');
            }
        }
    </script>
</body>
</html>
